@page "/login"
@using System.ComponentModel.DataAnnotations
@inject NavigationManager NavigationManager
@layout EmptyLayout

<link href="style.css" rel="stylesheet"/>

<MudPaper Style="background-image: url('https://i.imgur.com/qX8eqRn.png'); background-repeat: no-repeat; background-size: cover; height: 100vh;">
    <MudContainer Fixed="true" Class="d-flex flex-row-reverse align-content-center flex-wrap flex-grow-1 gap-4" Elevation="0" Style="height: 100vh;">
        <MudPaper Width="30%" Square="true" Elevation="0">
            <MudForm @bind-Errors="@_errors" @bind-IsValid="@_success" @ref="_form">
                <MudGrid Justify="Justify.Center">
                    <MudItem xs="12" sm="7">
                        <MudCard Class="pa-4" Elevation="4" Style="font-family: quicksand-regular;">
                            <MudCardContent>
                                <MudText Align="Align.Center" Typo="Typo.h1" Style="font-family: kanit-bold; font-size: 36pt;">OLDCARE</MudText>
                                <MudTextField InputType="InputType.Email"
                                              Label="👤 E-mail"
                                              Class="mt-3"
                                              Required="true"
                                              RequiredError="Informe o e-mail."
                                              T="string"
                                              Validation="@(new EmailAddressAttribute() { ErrorMessage = "Este e-mail não é válido." })"/>
                                <MudTextField Class="mt-3"
                                              InputType="InputType.Password"
                                              Label="🔑 Senha"
                                              MaxLength="32"
                                              Required="true"
                                              RequiredError="Informe a senha."
                                              T="string"
                                              Validation="@(new RequiredAttribute() { ErrorMessage = "Informe a senha." })"/>
                            </MudCardContent>
                            <MudCardActions>
                                <MudButton ButtonType="ButtonType.Submit"
                                           Class="ml-auto mud-theme-secondary py-3 px-3 rounded-lg"
                                           Color="Color.Error"
                                           Disabled="@(!_success)"
                                           FullWidth="true"
                                           OnClick="Authenticate"
                                           Variant="Variant.Filled">
                                    ENTRAR
                                </MudButton>
                            </MudCardActions>
                        </MudCard>
                    </MudItem>
                    @* <MudItem xs="12" sm="7"> *@
                    @*     <MudText Typo="Typo.body2" Align="Align.Center"> *@
                    @*         Esqueceu sua senha? *@
                    @*     </MudText> *@
                    @* </MudItem> *@
                </MudGrid>
            </MudForm>
        </MudPaper>
    </MudContainer>
</MudPaper>

@code {
    private string[] _errors = { };
    private MudForm _form = new();
    private bool _success = false;

    private void Authenticate() => NavigationManager.NavigateTo("/index");
}